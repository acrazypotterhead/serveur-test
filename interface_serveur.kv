WindowManager:
    FirstWindow:
    SecondWindow:

<FirstWindow>:
    name: 'first'
    figure_wgt:figure_wgt
    GridLayout:
        cols: 1
        Label:
            id: status_label
            text: "[STARTING] Server is starting..."
            size_hint_y: None
            height: 50

        TextInput:
            id: messages
            readonly: True
            size_hint_y: None
            height: 50


        
        BoxLayout:
            orientation:'vertical'
            BoxLayout:
                size_hint_y:0.2
                Button:
                    text:"home"
                    on_press: root.start_graph()
                    on_release:root.home()
                ToggleButton:
                    group:'touch_mode'
                    state:'down'
                    text:"pan" 
                    on_press:
                        root.set_touch_mode('pan')
                        self.state='down'
                ToggleButton:
                    group:'touch_mode'
                    text:"zoom box"  
                    on_press:
                        root.set_touch_mode('zoombox')
                        self.state='down'  
                   
        MatplotFigure:
            id:figure_wgt
            fast_draw:False
        

                
        Button:
            text: "Stop server"
            on_press: root.stop_server()
            size_hint_y: None
            height: 50
        
        Button:
            text: "Go to Second Window"
            size_hint_y: None
            height: 50
            on_press:
                root.manager.current = 'second'
                root.manager.transition.direction = 'left'
                

<SecondWindow>:
    name: 'second'
    GridLayout:
        cols: 1
        Label: 
            text: "Second Window"

        Button:
            text: "Go to First Window"
            on_press: 
                root.manager.current = 'first'
                root.manager.transition.direction = 'right'
