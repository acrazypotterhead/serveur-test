WindowManager:
    FirstWindow:
    SecondWindow:


<FirstWindow>:
    name: 'first'
    GridLayout:
        cols: 1
        padding: 50
        spacing: 30
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Label:
            id: label_ip
            text: 'Enter server IP :'
            size_hint: 1, 0.4
    
            

        TextInput:
            id: ip
            multiline: False
            size_hint: 1, 0.4

        Button:
            text: "Connect to server"
            on_press: root.set_server_ip()
            size_hint: 1, 0.2

        Label:
            id: label_msg
            text: 'Enter message:'
            size_hint: 1, 0.4

        TextInput:
            id: message
            multiline: False
            size_hint: 1, 0.4

        Button:
            text: "Send message"
            on_press: root.send_message()
            size_hint: 1, 0.2

        Button:
            id: button_gyro
            text: 'Gyroscope'
            on_press: root.do_toggle()
            size_hint: 1, 0.2

        Button:
            text: 'go to Second Window'
            size_hint: 1, 0.2
           
            
            
            on_press:
                root.manager.current = 'second'
                root.manager.transition.direction = 'left'

<SecondWindow>:
    name: 'second'
    GridLayout:
        size: root.size
        
        cols: 1
        rows: 3
        padding: 20
        spacing: 10

        Button:
            text: "Go to first window"
            size_hint_y: None
            height: 50
            on_press:
                root.manager.current = 'first'
                root.manager.transition.direction = 'right'

        #row_default_height: 300  # Hauteur par défaut des lignes
        #col_default_width: 300   # Largeur par défaut des colonnes
        #row_force_default: True  # Forcer la hauteur par défaut des lignes
        #col_force_default: True  # Forcer la largeur par défaut des colonnes

        GridLayout:
            cols: 3
            rows: 1
            Jauge:
                id: Jauge1
                size_hint: 1,1
                choice: "x"
                min_value: -30
                max_value: 30

            
            Jauge:
                id: Jauge2
                size_hint: 1,1
                choice: "y"
                min_value: -30
                max_value: 30


            Jauge:
                id: Jauge3
                size_hint: 1,1
                choice: "z"
                min_value: -30
                max_value: 30


            Button:
                id: toggle_button
                text: "Start Accelerometer"
                pos: 1000, 200
                on_press: root.ids.Jauge1.do_toggle()
                on_press: root.ids.Jauge2.do_toggle()
                on_press: root.ids.Jauge3.do_toggle()
