WindowManager:
    FirstWindow:
    SecondWindow:


<FirstWindow>:
    name: 'first'
    GridLayout:
        cols: 1

        Label:
            id: label_ip
            text: 'Enter server IP:'

        TextInput:
            id: ip
            multiline: False

        Button:
            text: "Connect to server"
            on_press: root.set_server_ip()

        Label:
            id: label_msg
            text: 'Enter message:'

        TextInput:
            id: message
            multiline: False

        Button:
            text: "Send message"
            on_press: root.send_message()

        Button:
            text: 'Gyroscope'
            on_press: root.do_toggle()

        Button:
            text: 'go to Second Window'
            on_press:
                root.manager.current = 'second'
                root.manager.transition.direction = 'left'

<SecondWindow>:
    name: 'second'
    GridLayout:
        size: root.size
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        cols: 1
        rows: 3


        Button:
            text: "Go to first window"
            on_press:
                root.manager.current = 'first'
                root.manager.transition.direction = 'left'

        #row_default_height: 300  # Hauteur par défaut des lignes
        #col_default_width: 300   # Largeur par défaut des colonnes
        #row_force_default: True  # Forcer la hauteur par défaut des lignes
        #col_force_default: True  # Forcer la largeur par défaut des colonnes

        GridLayout:
            cols: 3
            rows: 1
            Jauge:
                id: Jauge1
                size_hint: 1,1
                choice: "x"

            
            Jauge:
                id: Jauge2
                size_hint: 1,1
                choice: "y"

            Jauge:
                id: Jauge3
                size_hint: 1,1
                choice: "z"

            Button:
                id: toggle_button
                text: "Start Accelerometer"
                pos: 1000, 200
                on_press: root.ids.Jauge1.do_toggle()
                on_press: root.ids.Jauge2.do_toggle()
                on_press: root.ids.Jauge3.do_toggle()
